{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createGalleryCardTemplate = imginfo => {\n  return ` \n  <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${imginfo.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${imginfo.webformatURL}\"\n        alt=\"${imginfo.tags}\"\n      />\n    </a>\n    <div class=\"img-details\">\n      <p class=\"detail-item\"><b>Likes:</b> ${imginfo.likes}</p>\n      <p class=\"detail-item\"><b>Views:</b> ${imginfo.views}</p>\n      <p class=\"detail-item\"><b>Comments:</b> ${imginfo.comments}</p>\n      <p class=\"detail-item\"><b>Downloads:</b> ${imginfo.downloads}</p>\n    </div>\n  </li>`;\n};\n\nexport const initializeLightbox = () => {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/?';\n\nexport const getAxiosPhotos = async (searchedQuery, page) => {\n  const urlParams = new URLSearchParams({\n    key: '45497823-3ee11a5b90ff874601dfe7178',\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 40,\n    page: page,\n  });\n\n  try {\n    const response = await axios.get(`${BASE_URL}${urlParams}`);\n    return response.data;\n  } catch (err) {\n    throw new Error(err.message);\n  }\n};\n","import {\n  createGalleryCardTemplate,\n  initializeLightbox,\n} from './js/render-functions';\n\nimport { getAxiosPhotos } from './js/pixabay-api';\nimport iziToast from 'izitoast';\n\nconst formEl = document.querySelector('.js-page-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst loaderEl = document.querySelector('.js-loader');\nconst loadMoreBtnEl = document.querySelector('.load-more-btn-js');\n\nconst removeloadBtnClass = () => {\n  loadMoreBtnEl.classList.remove('is-hidden');\n};\n\nconst addloadBtnClass = () => {\n  loadMoreBtnEl.classList.add('is-hidden');\n};\nconst showLoader = () => {\n  loaderEl.classList.remove('is-hidden');\n};\n\nconst hideLoader = () => {\n  loaderEl.classList.add('is-hidden');\n};\nlet page = 1;\naddloadBtnClass();\nconst onFormElSubmit = async event => {\n  event.preventDefault();\n  const searchedValue = formEl.elements.user_query.value;\n\n  showLoader();\n\n  const data = await getAxiosPhotos(searchedValue, page);\n  if (data.hits && data.hits.length === 0) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    galleryEl.innerHTML = '';\n    formEl.reset();\n    return;\n  }\n\n  const galleryCardsTemplate = data.hits\n    .map(imgDetails => createGalleryCardTemplate(imgDetails))\n    .join('');\n\n  galleryEl.innerHTML = galleryCardsTemplate;\n\n  page = 1;\n\n  initializeLightbox();\n  hideLoader();\n  removeloadBtnClass();\n};\n\nconst onloadMoreBtnElSubmit = async () => {\n  showLoader();\n\n  page = page + 1;\n\n  const searchedValue = formEl.elements.user_query.value;\n  const data = await getAxiosPhotos(searchedValue, page);\n  const galleryCardsTemplate = data.hits\n    .map(imgDetails => createGalleryCardTemplate(imgDetails))\n    .join('');\n\n  galleryEl.insertAdjacentHTML('beforeend', galleryCardsTemplate);\n\n  initializeLightbox();\n  hideLoader();\n  removeloadBtnClass();\n};\n\nloadMoreBtnEl.addEventListener('click', onloadMoreBtnElSubmit);\nformEl.addEventListener('submit', onFormElSubmit);\n"],"names":["createGalleryCardTemplate","imginfo","initializeLightbox","SimpleLightbox","BASE_URL","getAxiosPhotos","searchedQuery","page","urlParams","axios","err","formEl","galleryEl","loaderEl","loadMoreBtnEl","removeloadBtnClass","addloadBtnClass","showLoader","hideLoader","onFormElSubmit","event","searchedValue","data","iziToast","galleryCardsTemplate","imgDetails","onloadMoreBtnElSubmit"],"mappings":"owBAGO,MAAMA,EAA4BC,GAChC;AAAA;AAAA,oCAE2BA,EAAQ,aAAa;AAAA;AAAA;AAAA,eAG1CA,EAAQ,YAAY;AAAA,eACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,6CAIkBA,EAAQ,KAAK;AAAA,6CACbA,EAAQ,KAAK;AAAA,gDACVA,EAAQ,QAAQ;AAAA,iDACfA,EAAQ,SAAS;AAAA;AAAA,SAKrDC,EAAqB,IAAM,CACrB,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,EC5BMC,EAAW,4BAEJC,EAAiB,MAAOC,EAAeC,IAAS,CAC3D,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GACV,KAAMC,CACV,CAAG,EAED,GAAI,CAEF,OADiB,MAAME,EAAM,IAAI,GAAGL,CAAQ,GAAGI,CAAS,EAAE,GAC1C,IACjB,OAAQE,EAAK,CACZ,MAAM,IAAI,MAAMA,EAAI,OAAO,CAC5B,CACH,ECbMC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAgB,SAAS,cAAc,mBAAmB,EAE1DC,EAAqB,IAAM,CAC/BD,EAAc,UAAU,OAAO,WAAW,CAC5C,EAEME,EAAkB,IAAM,CAC5BF,EAAc,UAAU,IAAI,WAAW,CACzC,EACMG,EAAa,IAAM,CACvBJ,EAAS,UAAU,OAAO,WAAW,CACvC,EAEMK,EAAa,IAAM,CACvBL,EAAS,UAAU,IAAI,WAAW,CACpC,EACA,IAAIN,EAAO,EACXS,IACA,MAAMG,EAAiB,MAAMC,GAAS,CACpCA,EAAM,eAAc,EACpB,MAAMC,EAAgBV,EAAO,SAAS,WAAW,MAEjDM,IAEA,MAAMK,EAAO,MAAMjB,EAAegB,EAAed,CAAI,EACrD,GAAIe,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACvCC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAChB,CAAK,EACDX,EAAU,UAAY,GACtBD,EAAO,MAAK,EACZ,MACD,CAED,MAAMa,EAAuBF,EAAK,KAC/B,IAAIG,GAAczB,EAA0ByB,CAAU,CAAC,EACvD,KAAK,EAAE,EAEVb,EAAU,UAAYY,EAEtBjB,EAAO,EAEPL,IACAgB,IACAH,GACF,EAEMW,EAAwB,SAAY,CACxCT,IAEAV,EAAOA,EAAO,EAEd,MAAMc,EAAgBV,EAAO,SAAS,WAAW,MAE3Ca,GADO,MAAMnB,EAAegB,EAAed,CAAI,GACnB,KAC/B,IAAIkB,GAAczB,EAA0ByB,CAAU,CAAC,EACvD,KAAK,EAAE,EAEVb,EAAU,mBAAmB,YAAaY,CAAoB,EAE9DtB,IACAgB,IACAH,GACF,EAEAD,EAAc,iBAAiB,QAASY,CAAqB,EAC7Df,EAAO,iBAAiB,SAAUQ,CAAc"}